<!DOCTYPE html>
<html>
  
    <head>
        <base href="/"> 
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
      <style>
        @import url(https://unpkg.com/@webpixels/css@1.1.5/dist/index.css);
        @import url("https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.4.0/font/bootstrap-icons.min.css");
      </style>
      
      <link rel="stylesheet" href="styles/main.css">
        
        <title>Speed Type</title>
        
        <nav >
            <ul class="leader-navbar">
                <li class="leader-logo"><a href="" draggable="false" ><img src="/images/keyboard.png"  draggable="false"></a></li>
                <li class="leader-logo-name" ><p class="leader-logoname" draggable="false" href="" onclick="reloadpage()">Speed Type</p></li>
               
                
            </ul>
            <div class="leader-line"></div>
        </nav>
        <!-- <script>
            var app = angular.module("myApp", ["ngRoute"]);
            app.config(function($routeProvider) {
              $routeProvider
              .when("/", {
                templateUrl : "index.html"
            })
              .when("/leaderboard", {
                templateUrl : "scoretable.html"
              })
              
            });
            </script> -->
    </head>
    </head>

    <body>
        
      <div class="leaderboard-container">
        
        <!-- Header -->
        <header class="bg-surface-primary border-bottom pt-6">
            <div class="container" >
                
                <div class="mb-npx">
                    <a style="cursor: pointer; position: relative; display: inline-block;"  onclick="loadpage()" class="arrow-icon"><img src="images/arrow.png"></a>
                    <div class="row align-items-center" style="position: relative; display: inline-flex;">
                        
                        <div class="col-sm-6 col-12 mb-4 mb-sm-0" >
                            <!-- Title -->
                            
                            <h1 class="h2 mb-0 ls-tight" ><span class="leaderboard-underline" >Leaderboard</span></h1>

                        </div>
  
                    </div>
                    <!-- Nav -->
                    <ul class="nav nav-tabs mt-4 overflow-x border-0">
                        <li class="nav-item ">
                            <a onclick="loadchoosecsec(15)" style="cursor: pointer;" class="nav-link font-regular "><span id="sec15" class="leaderboard-time-underline">Time: 15sec</span></a>
                        </li>
                        <li class="nav-item">
                            <a onclick="loadchoosecsec(30)" style="cursor: pointer;" class="nav-link font-regular"><span id="sec30" class="leaderboard-time-underline">Time: 30sec</span></a>
                        </li>
                        <li class="nav-item">
                            <a onclick="loadchoosecsec(60)" style="cursor: pointer;" class="nav-link font-regular"><span id="sec60" class="leaderboard-time-underline">Time: 60sec</span></a>
                        </li>
                        <li>
                            
                        </li>
                    </ul>
                   

                </div>
            </div>
        </header>


        <div class="table-responsive" >
            <table class="table table-hover table-nowrap">
                <thead class="thead-light">
                    <tr>
                        <th scope="col">Rank</th>
                        <th scope="col">Name</th>
                        <th scope="col">Date</th>
                        <th scope="col">Wpm</th>
                        <th scope="col">Accuracy</th>
                        <th scope="col">Category</th>
                        <th></th>
                    </tr>
                </thead>
              <p id="username" style="display: none;"><%= username %></p>
                <tbody>
                    <% if(scoresec==30) { %>
                        <% scoredetails.forEach(function(scoredata,index) { %>
                        <tr>
                            <td>
                                <%= scoredata.rank30sec %>
                            </td>
                            <td>
                                <img alt="..." src="data:image/<%=scoredata.img.contentType%>;base64,
                                <%=scoredata.img.data.toString('base64')%>" class="avatar avatar-sm rounded-circle me-2">
                                <a class="text-heading font-semibold" style="cursor: pointer;">
                                    <%= scoredata.username %>
                                </a>
                            </td>
                            <td>
                                <%= scoredata.max30score.maxdate %>
                            </td>
                            <td>
                                <%= scoredata.max30score.maxwpm %>
                            </td>
                            <td>
                                <%= scoredata.max30score.maxaccuracy %>
                            </td>
                            <td>
                                <span class="badge badge-lg badge-dot">
                                    <i class="bg-success"></i><%= scoredata.max30score.maxcategory %>
                                </span>
                            </td>
                            <td class="text-end">
                                <a onclick="viewprofile('<%= scoredata.username %>')" style="cursor: pointer;" class="btn btn-sm btn-neutral">View</a>
                                <button type="button" class="btn btn-sm btn-square btn-neutral text-danger-hover">
                                    <i class="bi bi-heart"></i>
                                </button>
                            </td>
                        </tr>
                        <% })} %>
                        <% if(scoresec==15) { %>
                            <% scoredetails.forEach(function(scoredata) { %>
                            <tr>
                                <td>
                                    <%= scoredata.rank15sec %>
                                </td>
                                <td>
                                    <img alt="..." src="data:image/<%=scoredata.img.contentType%>;base64,
                                    <%=scoredata.img.data.toString('base64')%>" class="avatar avatar-sm rounded-circle me-2">
                                    <a class="text-heading font-semibold" >
                                        <%= scoredata.username %>
                                    </a>
                                </td>
                                <td>
                                    <%= scoredata.max15score.maxdate %>
                                </td>
                                <td>
                                    <%= scoredata.max15score.maxwpm %>
                                </td>
                                <td>
                                    <%= scoredata.max15score.maxaccuracy %>
                                </td>
                                <td>
                                    <span class="badge badge-lg badge-dot">
                                        <i class="bg-success"></i><%= scoredata.max15score.maxcategory %>
                                    </span>
                                </td>
                                <td class="text-end">
                                    <a onclick="viewprofile('<%= scoredata.username %>')" style="cursor: pointer;" class="btn btn-sm btn-neutral">View</a>
                                    <button type="button" class="btn btn-sm btn-square btn-neutral text-danger-hover">
                                        <i class="bi bi-heart"></i>
                                    </button>
                              
                                </td>
                            </tr>
                            <% })} %>
                    <% if(scoresec==60) { %>
                        <% scoredetails.forEach(function(scoredata) { %>
                        <tr>
                            <td>
                                <%= scoredata.rank60sec %>
                            </td>
                            <td>
                                <img alt="..." src="data:image/<%=scoredata.img.contentType%>;base64,
                                <%=scoredata.img.data.toString('base64')%>" class="avatar avatar-sm rounded-circle me-2">
                                <a class="text-heading font-semibold" >
                                    <%= scoredata.username %>
                                </a>
                            </td>
                            <td>
                                <%= scoredata.max60score.maxdate %>
                            </td>
                            <td>
                                <%= scoredata.max60score.maxwpm %>
                            </td>
                            <td>
                                <%= scoredata.max60score.maxaccuracy %>
                            </td>
                            <td>
                                <span class="badge badge-lg badge-dot">
                                    <i class="bg-success"></i><%= scoredata.max60score.maxcategory %>
                                </span>
                            </td>
                            <td class="text-end">
                                <a onclick="viewprofile('<%= scoredata.username %>')" style="cursor: pointer;" class="btn btn-sm btn-neutral">View</a>
                                <button type="button" class="btn btn-sm btn-square btn-neutral text-danger-hover">
                                    <i class="bi bi-heart"></i>
                                </button>
                            </td>
                        </tr>
                        <% })} %>
                        
                </tbody>
           
            </table>
            <div class="card-footer border-0 py-5">
                <span class="text-muted text-sm">Showing Top 10 Players... </span>
            </div>
        </div>
   
    </div>
    </div>
    
  
    </body>
    <script src="scripts/scoretable.js"></script>
</html>
